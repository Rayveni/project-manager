version: "3.91"
services:
  app:
    build:
      context: ./backend/ 
      dockerfile: Dockerfile      
    image: local_image/project_app       
    # flask requires SIGINT to stop gracefully
    # (default stop signal from Compose is SIGTERM)
    stop_signal: SIGINT 
    environment:
      - TZ=${timezone} 
      - redis_url=${redis_url}       
    volumes: 
      - type: bind
        source: ${code_source}
        target: /app  
    command: python server.py           
    ports:
      - "${app_ports}"
 